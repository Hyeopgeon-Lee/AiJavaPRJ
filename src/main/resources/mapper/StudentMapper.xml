<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- JAVA와 연결할 Mapper 파일 설정 -->
<mapper namespace="kopo.poly.persistance.mapper.IStudentMapper">

    <!-- 회원 등록 쿼리 -->
    <insert id="insertStudent" parameterType="StudentDTO">
        INSERT INTO STUDENT
            (USER_ID, USER_NAME, EMAIL, ADDR)
        VALUES (#{userId}, #{userName}, #{email}, #{addr})
    </insert>

    <!-- 회원 리스트 쿼리 -->
    <select id="getStudentList" resultType="StudentDTO">
        SELECT USER_ID, USER_NAME, EMAIL, ADDR
        FROM STUDENT
        ORDER BY USER_NAME DESC
    </select>

    <!-- 회원 1명 보기 쿼리 -->
    <select id="getStudent" resultType="StudentDTO">
        SELECT USER_ID, USER_NAME, EMAIL, ADDR
        FROM STUDENT
        WHERE USER_ID = #{userId}
    </select>

    <!-- 회원 수정 쿼리 / 회원 수정은 PK로 설정된 USER_ID의 값 수정은 불가능하며, USER_ID 값 기준으로 수정함 -->
    <update id="updateStudent" parameterType="StudentDTO">
        UPDATE STUDENT
        SET USER_NAME = #{userName},
            EMAIL     = #{email},
            ADDR      = #{addr}
        WHERE USER_ID = #{userId}

    </update>

    <!-- 회원 삭제 쿼리 / 회원 삭제는 PK로 설정된 USER_ID의 값을 기준으로 삭제함-->
    <delete id="deleteStudent" parameterType="StudentDTO">
        DELETE
        FROM STUDENT
        WHERE USER_ID = #{userId}

    </delete>

</mapper>
</mapper>